(window["webpackJsonpmy-recycler-front-end"]=window["webpackJsonpmy-recycler-front-end"]||[]).push([[0],{10:function(e,t,a){},139:function(e,t,a){e.exports=a(330)},144:function(e,t,a){},166:function(e,t,a){},194:function(e,t){},330:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(134),c=a.n(r),i=(a(144),a(23)),l=a(1),o=a(2),m=a(4),d=a(3),u=a(5),p=a(7),h=a(19),g=(a(10),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(this.props),s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"categories-section"},s.a.createElement("h1",{id:"center-h1",className:"title"},"What can be recycled?"),s.a.createElement("div",{className:"cat-container container"},s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/automobile.png",alt:"auto"}),"Automotive"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/battery.png",alt:"battery"}),"Batteries"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/construction.png",alt:"construction"}),"Construction"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/electronics.png",alt:"electronics"}),"Electonics"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/furniture.png",alt:"furniture"}),"Furniture"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/glass.png",alt:"glass"}),"Glass"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/gardening.png",alt:"gardening"}),"Garden"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/holiday.png",alt:"holiday"}),"Holiday"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/metal.png",alt:"metal"}),"Metal"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/paint.png",alt:"paint"}),"Paint"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/paper.png",alt:"paper"}),"Paper"),s.a.createElement("div",{className:"icon-flex"},s.a.createElement("img",{className:"icon-img",src:"./images/plastic.png",alt:"plastic"}),"Plastic")),s.a.createElement("div",{className:"bottom-text"},s.a.createElement("p",null,"Not sure what you can recycle? We are here to save the world so we encourage you to email us at waste@gotwaste.xyz and upload your photos. Oh yeah! Don't forget to follow us on Twitter, Facebook, and Instagram."),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("button",{className:"btn btn-2"},"Get Started"))))}}]),t}(n.Component)),b=a(6),E=a.n(b),v=a(11),f=a(12),k=a.n(f);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).changeEmail=function(t){e.setState({email:t.target.value})},e.changePass=function(t){e.setState({password:t.target.value})},e.submitLoginForm=function(){var t=Object(v.a)(E.a.mark((function t(a){var n,s,r,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=y({},e.state),s="".concat(window.apiHost,"/users/login"),t.next=5,k.a.post(s,n);case 5:r=t.sent,console.log("LOGIN IN RESPONSE",r.data),e.props.setToken(r.data.token,r.data.name,r.data.email,r.data.id,r.data.is_company),r.data.token&&(c=JSON.stringify(r.data),window.sessionStorage.setItem("state",c)),r.data.token&&e.props.closeModal();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={email:"",password:""},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"logo"},s.a.createElement("img",{className:"logo-img",src:"./012-van.png",alt:"logo"}),s.a.createElement("p",{className:"light-color"},"R-Waste")),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"details"},s.a.createElement("h2",null,"Please log into your account."),s.a.createElement("div",{className:"spacer"}),s.a.createElement("form",{onSubmit:this.submitLoginForm},s.a.createElement("input",{className:"input-bottom-border",onChange:this.changeEmail,value:this.state.email,placeholder:"Email address"}),s.a.createElement("input",{className:"input-bottom-border",type:"password",onChange:this.changePass,value:this.state.password,placeholder:"Password"}),s.a.createElement("button",{className:"action-btn"},"Log In"),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement(p.b,{to:"/",className:"light-color"},"Forgot Password?")))))}}]),t}(s.a.Component);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).changeEmail=function(e){a.setState({email:e.target.value})},a.changeName=function(e){a.setState({fullName:e.target.value})},a.changePass=function(e){a.setState({password:e.target.value})},a.changeUsername=function(e){a.setState({username:e.target.value})},a.submitSignupForm=function(){var e=Object(v.a)(E.a.mark((function e(t){var n,s,r,c,i,l,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j({},a.state),s=n.email,r=n.password,t.preventDefault(),c="".concat(window.apiHost,"/signup"),e.next=6,k.a.post(c,n);case 6:if(i=e.sent,a.setState({fullName:"",username:"",email:"",password:""}),console.log(i),"userAdded"!==i.data.msg){e.next=17;break}return l="".concat(window.apiHost,"/users/login"),e.next=13,k.a.post(l,{email:s,password:r});case 13:o=e.sent,console.log("LOGIN IN RESPONSE",o.data),a.props.setToken(o.data.token,o.data.name,o.data.email,o.data.id,o.data.is_company),o.data.token&&a.props.closeModal();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={fullName:"",username:"",email:"",password:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log("this props authToken in Signup ",this.props),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"logo-container"},s.a.createElement("div",{className:"logo"},s.a.createElement("img",{className:"logo-img",src:"./012-van.png",alt:"logo"}),s.a.createElement("p",{className:"light-color"},"R-Waste"))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"details"},s.a.createElement("h2",null,"Sign up for an account."),s.a.createElement("div",{className:"spacer"}),s.a.createElement("form",{onSubmit:this.submitSignupForm},s.a.createElement("input",{className:"input-bottom-border",required:!0,onChange:this.changeEmail,value:this.state.email,placeholder:"Email Address"}),s.a.createElement("input",{className:"input-bottom-border",required:!0,onChange:this.changeName,value:this.state.name,placeholder:"Full Name"}),s.a.createElement("input",{className:"input-bottom-border",required:!0,onChange:this.changeUsername,value:this.state.username,placeholder:"Username"}),s.a.createElement("input",{className:"input-bottom-border",required:!0,type:"password",onChange:this.changePass,value:this.state.password,placeholder:"Password"}),s.a.createElement("button",{className:"action-btn"},"Sign up"),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"login-text align-left light-color"},"Already have a R-Wasted account? ",s.a.createElement("span",{className:"link light-color",onClick:function(){e.props.changeModalContent("login")}},"Log in"))))))}}]),t}(s.a.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"intro"},s.a.createElement("h2",null,"Got Waste? We'll pick it up!"),s.a.createElement("div",{className:"spacer"}),s.a.createElement("h1",{className:"light"},"Like Uber for your Recyclables"),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-2"},s.a.createElement(p.b,{to:"/"},"Get Started")))))),s.a.createElement("div",{className:"hero-bkg"}),s.a.createElement("section",{className:"our-story-section"},s.a.createElement("div",{className:"our-story-details"},s.a.createElement("h1",{className:"title"},"Our Story"),s.a.createElement("div",{className:"spacer"}),s.a.createElement("p",null,"R-Waste was developed and founded in Atlanta, GA by four young engineers in the south\u2019s largest tech hub, Atlanta Tech Village. The idea started off as a class project but soon became OUR way of saving the earth. Many of us would like to recycle more often but questions like where, what, and how holds us back from doing so. Have no fear, R-Waste is here! Simply sign up, choose your desired recyclables, pick up time, and there you have it, you just saved the world! All superheroes don\u2019t wear capes but with R-Waste you can save OUR world!"),s.a.createElement("div",{className:"spacer"}),s.a.createElement(p.b,{to:"/"},"Learn more \u2192 "))),s.a.createElement(g,null),s.a.createElement("footer",{className:"footer"},"Copyright \xa9 2019 R-Waste All Rights Reserved."))}}]),t}(n.Component);var S=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"logo"},s.a.createElement("img",{className:"logo-img",src:"./012-van.png",alt:"logo"}),s.a.createElement("p",{className:"light-color"},"R-Waste")),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"details"},s.a.createElement("h2",{className:"light-color"},"Please log into your account or sign up."),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"btn-container"},s.a.createElement("button",{onClick:function(){e.changeModalContent("signup")},className:"action-btn"},"Sign up with email"),s.a.createElement("button",{onClick:function(){e.changeModalContent("login")},className:"btn btn-1"},"Log in"))))))};a(166);var I=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{className:"links"},s.a.createElement("li",null,s.a.createElement(p.b,{to:"/"},"Home")),s.a.createElement("li",null,s.a.createElement(p.b,{to:"/"},"Our Story")),s.a.createElement("li",null,s.a.createElement(p.b,{to:"/"},"Blog")),s.a.createElement("li",null,s.a.createElement(p.b,{to:"/"},"Contact Us"))),s.a.createElement("button",{className:"btn btn-1",onClick:e.signup},"Login"),s.a.createElement("button",{className:"btn btn-2",onClick:e.signup},"Sign Up"))};var M=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{className:"links"},s.a.createElement("li",null,s.a.createElement(p.b,{to:"/company/dashboard"},"Dashboard")),s.a.createElement("li",null,s.a.createElement(p.b,{to:"/"},"Settings"))),s.a.createElement("div",{className:"btn-container"},s.a.createElement("button",{className:"btn btn-1",onClick:e.logout},"Log out")))};var T=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{className:"links"},s.a.createElement("li",null,s.a.createElement(p.b,{to:"/userdashboard"},"Dashboard")),s.a.createElement("li",null,s.a.createElement(p.b,{to:"/"},"Settings"))),s.a.createElement("div",{className:"btn-container"},s.a.createElement("button",{className:"btn",onClick:e.logout},"Log out")))},F=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).signup=function(){e.setState({showModal:!0})},e.closeModal=function(){e.setState({showModal:!1,modalContent:s.a.createElement(S,{changeModalContent:e.changeModalContent})})},e.changeModalContent=function(t){var a=s.a.createElement(S,{changeModalContent:e.changeModalContent});"login"===t?a=s.a.createElement(C,{setToken:e.props.setToken,changeModalContent:e.changeModalContent,closeModal:e.closeModal}):"signup"===t&&(a=s.a.createElement(D,{setToken:e.props.setToken,changeModalContent:e.changeModalContent,closeModal:e.closeModal})),e.setState({modalContent:a})},e.buildNavLinks=function(){var t="";return t=e.props.userInfo.authToken?e.props.userInfo.authToken&&e.props.userInfo.isCompany?s.a.createElement(M,{logout:e.props.logout}):s.a.createElement(T,{logout:e.props.logout}):s.a.createElement(I,{signup:e.signup}),console.log("+++++",t),t},e.displayMobile=function(){var e=document.getElementById("myLinks");"block"===e.style.display?e.style.display="none":e.style.display="block"},e.state={showModal:!1,modalContent:null},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({modalContent:s.a.createElement(S,{changeModalContent:this.changeModalContent})})}},{key:"render",value:function(){var e=this.buildNavLinks();return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mobile-container"},s.a.createElement("div",{className:"mobile-content"},s.a.createElement("div",{className:"topnav"},s.a.createElement("div",{className:"logo"},s.a.createElement("img",{className:"logo-img",src:"./012-van.png",alt:"logo"}),s.a.createElement("p",null,"R-Waste")),s.a.createElement("div",{className:"icon",onClick:this.displayMobile},s.a.createElement("div",{className:"hamburger"}),s.a.createElement("div",{className:"hamburger"}),s.a.createElement("div",{className:"hamburger"})))),s.a.createElement("div",{id:"myLinks"},e)),s.a.createElement("nav",{className:"nav-container"},s.a.createElement("div",{className:"logo"},s.a.createElement("img",{className:"logo-img",src:"./012-van.png",alt:"logo"}),s.a.createElement("p",null,"R-Waste")),s.a.createElement("div",{className:"nav"},e)),s.a.createElement("div",{className:"login-modal",style:this.state.showModal?{display:"block"}:{}},s.a.createElement("button",{id:"close-modal",onClick:this.closeModal},"x"),this.state.modalContent))}}]),t}(n.Component),_=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={value:0},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.state.value!==this.props.quantity[this.props.button]&&this.setState({value:this.props.quantity[this.props.button]})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{key:this.props.kprop,className:"subcat-container"},s.a.createElement("div",{className:"left"},s.a.createElement("h5",null,this.props.button)),s.a.createElement("div",{className:"right"},s.a.createElement("input",{className:"add-button",name:this.props.button,onClick:this.props.fnAdd,type:"button",value:"+"}),s.a.createElement("input",{className:"subtract-button",name:this.props.button,onClick:this.props.fnSubtract,type:"button",value:"-"}),s.a.createElement("div",{className:"value"},"Quantity: ",this.state.value))))}}]),t}(n.Component),x=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).updateValue=function(t){e.state.subCategory[t.target.name]},e.state={subCategory:{},rows:[]},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=[],a=Object.assign(this.props.categories.categories);return Object.keys(a).forEach((function(n,r){var c=[];c.push(s.a.createElement("h4",{key:r},n)),a[n].forEach((function(t,a){c.push(s.a.createElement(_,{kprop:"".concat(a,"+").concat(r),fnAdd:e.props.fnAdd,fnSubtract:e.props.fnSubtract,quantity:e.props.quantity,button:t.name,subCatState:e.props.subCategory}))})),t.push(c)})),console.log(t),console.log(typeof this.props.getItemsFunc),this.props.getItemsFunc(this.state.subCategory),0===this.state.rows.length&&this.setState({rows:t}),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table"},t.map((function(e){return s.a.createElement("div",{className:"subcategory-flex"},s.a.createElement("div",{className:"category-cont"},e))}))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).updateCount=function(e){if("+"===e.target.value){var t=a.state[e.target.name];t++}a.setState({tires:0})},a.quantityUpdate=function(e){a.setState({quantity:Number(e.target.value)})},a.getItems=function(e){e!==a.state.subCatItems&&a.setState({subCatItems:e}),console.log(typeof a.props.getItemsFunc),a.props.getItemsFunc(e)},a.state={subCatItems:{}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.categories==={}?s.a.createElement("div",null,"Loading"):s.a.createElement("div",{className:"category-container"},s.a.createElement("div",null,s.a.createElement(x,{getItemsFunc:this.getItems,categories:this.props.categories,updateCount:this.updateCount,fnAdd:this.props.fnAdd,fnSubtract:this.props.fnSubtract,quantity:this.props.quantity})))}}]),t}(n.Component),A=(s.a.Component,function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).handleClick=function(){e.props.submit(),e.setState({thankYou:!0})},e.state={thankYou:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=Object.entries(this.props.items).filter((function(e){return 0!==e[1]}));console.log(e);this.props;return!0===this.props.modalLoading?s.a.createElement("div",{className:"item-confirmation-modal"},"Loading..."):s.a.createElement("div",{className:"request-modal"},s.a.createElement("div",{className:"modal-logo"},s.a.createElement("img",{className:"logo-img",src:"./012-van.png",alt:"logo"})),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"details"},s.a.createElement("h2",null,"Order Summary"),s.a.createElement("div",{className:"spacer"}),s.a.createElement("p",{id:"msg"},this.state.thankYou?"Thanks for your order! We will reach back out to you shortly.":"Please confirm details before submitting.")),s.a.createElement("div",{className:"details"},s.a.createElement("div",{className:"list"},s.a.createElement("ul",null,s.a.createElement("li",null,"Date: ",this.props.date),"  ",s.a.createElement("br",null),s.a.createElement("li",null,"Address: ",this.props.address1)," ",s.a.createElement("br",null),s.a.createElement("li",null,"City/State/Zip: ",this.props.address2)," ",s.a.createElement("br",null),s.a.createElement("li",null,"Requested Time: ",this.props.time)," ",s.a.createElement("br",null))),s.a.createElement("div",{className:"spacer"}),s.a.createElement("div",{className:"list"},s.a.createElement("ul",null,e.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,"".concat(e[0])," ")," ",s.a.createElement("br",null),s.a.createElement("li",null,"Quantity:".concat(e[1])),s.a.createElement("div",{className:"spacer"}))})))),s.a.createElement("div",{className:"request-btn-div"},s.a.createElement("button",{id:"close-modal",onClick:this.props.closeModal},"X"),s.a.createElement("button",{className:"btn btn-2",onClick:this.handleClick},"Request Quote")))))}}]),t}(s.a.Component)),q=a(137),Q=a.n(q)()(window.apiHost);function L(e,t){console.log(e,t),Q.emit("sub-user-ticket",[e,t])}function R(e){Q.on("user-ticket-info",(function(t){return e(null,t)}))}a(197),s.a.Component,a(53);var U=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).handleInputChange=function(t){e.props.handleInputChange(t.target.id,t.target.value)},e.state={pickupDate:"",address1:"",address2:"",time:""},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pickupDate,a=e.address1,n=e.address2,s=e.time;this.setState({pickupDate:t,address1:a,address2:n,time:s})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.pickupDate,s=a.address1,r=a.address2,c=a.time,i=this.state,l=i.pickupDate,o=i.address1,m=i.address2,d=i.time;console.log(e),n===l&&s===o&&r===m&&c===d||this.setState({pickupDate:n,address1:s,address2:r,time:c})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-container"},s.a.createElement(P,{getItemsFunc:this.props.getItemsFunc,fnAdd:this.props.fnAdd,fnSubtract:this.props.fnSubtract,categories:this.props.categories,quantity:this.props.quantity}),s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",null,s.a.createElement("h1",null,"Time Available for Pick-up")),s.a.createElement("form",{onSubmit:this.submitForm},s.a.createElement("div",{className:"pickup-container"},s.a.createElement("div",{className:"date-where-time"},s.a.createElement("div",{className:"box"},s.a.createElement("h3",null,"Date"),s.a.createElement("input",{type:"text",value:this.state.pickupDate,id:"pickupDate",onChange:this.handleInputChange,className:"input-field",name:"input",placeholder:"MM-DD-YYYY",title:"Enter a date in this format MM-DD-YYYY"})),s.a.createElement("div",{className:"box"},s.a.createElement("h3",null,"Where"),s.a.createElement("input",{type:"text",value:this.state.address1,id:"address1",onChange:this.handleInputChange,className:"input-field",placeholder:"Address",title:"Enter a valid address"}),s.a.createElement("input",{type:"text",value:this.state.address2,id:"address2",onChange:this.handleInputChange,className:"input-field",placeholder:"City/State/Zip Code",title:"Enter a valid city/state/zip"})),s.a.createElement("div",{className:"box"},s.a.createElement("h3",null,"Time"),s.a.createElement("input",{type:"text",value:this.state.time,id:"time",onChange:this.handleInputChange,className:"input-field",name:"input",placeholder:"00:00PM",title:"Enter a time"}))),s.a.createElement("div",{className:"box"},s.a.createElement("button",{className:"btn btn-2",onClick:this.props.showItemModalEvent},"Submit")))))))}}]),t}(n.Component);var W=function(e){return console.log("props",e),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"user-nav"},s.a.createElement("div",{id:"tabs",className:0===e.displayId?"active":"",onClick:function(){e.changeDashboardContent()}},"Add Order"),s.a.createElement("div",{id:"tabs",className:1===e.displayId?"active":"",onClick:function(){e.changeDashboardContent("pending-approvals")}},"Pending Orders"),s.a.createElement("div",{id:"tabs",className:2===e.displayId?"active":"",onClick:function(){e.changeDashboardContent("scheduled-approvals")}},"History")))};var H=function(e){var t=!0===e.pending[e.ticket.id],a=JSON.parse(e.ticket.customer_prefer_timeframe),n=a.time,r=a.date,c=t?"ticket-table-details-btn pending":"ticket-table-details-btn",i=t?"Pending...":"Click to give Quote!",l=t?"ticket-table-overlay":"",o=t?null:e.clickFunc;return s.a.createElement("div",{className:"ticket-table",key:e.ticket.id},s.a.createElement("div",{className:l}),s.a.createElement("div",{className:"ticket-table-header border-bottom border-right"}," Customer Name: ",e.ticket.name," "),s.a.createElement("div",{className:"ticket-table-id border-bottom"},"Order #: ",e.ticket.id),s.a.createElement("div",{className:"ticket-table-user-pref border-right border-bottom"},s.a.createElement("div",{className:"status-row"},"Status:",s.a.createElement("div",{className:"text-red"},"Needs Quote"))),s.a.createElement("div",{className:"ticket-table-user-pref border-bottom"},s.a.createElement("div",null,"Address: ",e.ticket.pickup_address," ",e.ticket.pickup_address2),s.a.createElement("div",null,"Date: ",r),s.a.createElement("div",null,"Time: ",n)),s.a.createElement("div",{className:c,onClick:o,id:e.ticket.id},i))};var J=function(e){return s.a.createElement("div",{className:"ticket-table",key:e.ticket.id},s.a.createElement("div",{className:"ticket-table-header border-bottom border-right"}," Customer Name: ",e.ticket.name," "),s.a.createElement("div",{className:"ticket-table-id border-bottom"},"Order #: ",e.ticket.id),s.a.createElement("div",{className:"ticket-table-user-pref border-right"},s.a.createElement("div",{className:"status-row"},"Status: ",s.a.createElement("div",{className:"text-orange"},"Pending Confirmation"))),s.a.createElement("div",{className:"ticket-table-user-pref"},s.a.createElement("div",null,"Address: ",e.ticket.pickup_address," ",e.ticket.pickup_address2),s.a.createElement("div",null,"Date: ",e.ticket.pickup_date),s.a.createElement("div",null,"Time: ",e.ticket.pickup_time)))};var B=function(e){return s.a.createElement("div",{className:"ticket-table",key:e.ticket.id},s.a.createElement("div",{className:"ticket-table-header border-bottom border-right"}," Customer Name: ",e.ticket.name," "),s.a.createElement("div",{className:"ticket-table-id border-bottom"},"Order #: ",e.ticket.id),s.a.createElement("div",{className:"ticket-table-user-pref border-right border-bottom"},s.a.createElement("div",{className:"status-row"},"Status: ",s.a.createElement("div",{className:"text-green"},"Scheduled"))),s.a.createElement("div",{className:"ticket-table-user-pref border-bottom"},s.a.createElement("div",null,"Address: ",e.ticket.pickup_address," ",e.ticket.pickup_address2),s.a.createElement("div",null,"Date: ",e.ticket.pickup_date),s.a.createElement("div",null,"Time: ",e.ticket.pickup_time)),s.a.createElement("div",{className:"ticket-table-details-btn",id:e.ticket.id},"Complete"))},Y=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props.tickets);var t=this.props.tickets;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-container"},t.map((function(t){switch(t.progress){case 1:return s.a.createElement(H,{ticket:t,pending:e.props.pending,clickFunc:e.props.clickFunc});case 2:return s.a.createElement(J,{ticket:t});default:return s.a.createElement(B,{ticket:t})}}))),s.a.createElement("div",{className:"app-container"}))}}]),t}(n.Component),G=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tickets.filter((function(e){return 1===e.progress}));return console.log("filterTickets",t),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-container"},t.map((function(t){return s.a.createElement(H,{ticket:t,pending:e.props.pending,clickFunc:e.props.clickFunc})}))))}}]),t}(n.Component);var V=function(e){return s.a.createElement("div",{className:"ticket-table",key:e.ticket.id},s.a.createElement("div",{className:"ticket-table-header border-bottom border-right"}," Customer Name: ",e.ticket.name," "),s.a.createElement("div",{className:"ticket-table-id border-bottom"},"Order #: ",e.ticket.ticket_id),s.a.createElement("div",{className:"ticket-table-user-pref border-right border-bottom"},s.a.createElement("div",{className:"status-row"},"Status: ",s.a.createElement("div",{className:"text-green"},"Scheduled"))),s.a.createElement("div",{className:"ticket-table-user-pref border-bottom"},s.a.createElement("div",null,"Address: ",e.ticket.pickup_address," ",e.ticket.pickup_address2),s.a.createElement("div",null,"Date: ",e.ticket.pickup_date),s.a.createElement("div",null,"Time: ",e.ticket.pickup_time)))},z=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){console.log(this.props.tickets);var e=this.props.tickets.filter((function(e){return e.progress>=3}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-container"},e.map((function(e){return s.a.createElement(V,{ticket:e})}))),s.a.createElement("div",{className:"app-container"}))}}]),t}(n.Component);n.Component;var X=function(e){return s.a.createElement("div",{className:"ticket-table",key:e.ticket.id},s.a.createElement("div",{className:"ticket-table-header border-bottom border-right"}," Customer Name: ",e.ticket.name," "),s.a.createElement("div",{className:"ticket-table-id border-bottom"},"Order #: ",e.ticket.ticket_id),s.a.createElement("div",{className:"ticket-table-user-pref border-right"},s.a.createElement("div",{className:"status-row"},"Status: ",s.a.createElement("div",{className:"text-orange"},"Pending Confirmation")),s.a.createElement("div",{className:"status-row"},"Price: ",s.a.createElement("div",{className:"text-orange"},e.ticket.price))),s.a.createElement("div",{className:"ticket-table-user-pref"},s.a.createElement("div",null,"Address: ",e.ticket.pickup_address," ",e.ticket.pickup_address2),s.a.createElement("div",null,"Date: ",e.ticket.pickup_date),s.a.createElement("div",null,"Time: ",e.ticket.pickup_time)),s.a.createElement("div",{className:"ticket-table-details-bottom-cont",id:e.ticket.ticket_id},s.a.createElement("div",{onClick:e.adFn,id:e.ticket.ticket_id,value:"accept",className:"ticket-table-confirm-btn bg-color-green"},"Accept"),s.a.createElement("div",{onClick:e.adFn,id:e.ticket.ticket_id,value:"decline",className:"ticket-table-confirm-btn bg-color-red"},"Decline")))},Z=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tickets.filter((function(e){return 2==e.progress}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"user-order"},s.a.createElement("div",{className:"table-container"},t.map((function(t){return s.a.createElement(X,{adFn:e.props.adFn,ticket:t})})))))}}]),t}(n.Component),K=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},e.addBtn=function(t){var a=Object.assign(e.state.subCategoryQuantity);a[t.target.name]++,e.setState({subCategoryQuantity:a})},e.subtractBtn=function(t){var a=Object.assign(e.state.subCategoryQuantity);a[t.target.name]--,e.setState({subCategoryQuantity:a})},e.getItems=function(t){t!==e.state.subCatItems&&e.setState({subCatItems:t})},e.showItemModalEvent=function(t){t.preventDefault(),e.setState({showItemModal:!0})},e.closeModal=function(t){console.log("closing"),e.setState({showItemModal:!1})},e.changeDate=function(t){e.setState({pickupDate:t.target.value})},e.changeAddress1=function(t){e.setState({address1:t.target.value})},e.changeAddress2=function(t){e.setState({address2:t.target.value})},e.changeTime=function(t){e.setState({time:t.target.value})},e.handleInputChange=function(t,a){var n={};n[t]=a,console.log(a,n),e.setState(n)},e.acceptDeclinebtn=function(){var t=Object(v.a)(E.a.mark((function t(a){var n,s,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="accept"===a.target.getAttribute("value"),console.log(a.target),console.log(n,a.target.getAttribute("value")),s="".concat(window.apiHost,"/ticket/confirm-ticket-quote"),t.next=6,k.a.put(s,{userValue:n,token:e.props.userInfo.authToken,userId:e.props.userInfo.id,ticketId:a.target.id,progress:e.state.tickets[0].progress});case 6:r=t.sent,console.log(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.submitForm=function(){var t=Object(v.a)(E.a.mark((function t(a){var n,s,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("I SUBMITTED!"),e.setState({modalLoading:!0,showItemModal:!1,showModal:!1}),n=JSON.stringify(e.state.subCategoryQuantity),t.next=5,k.a.post("".concat(window.apiHost,"/ticket/create-ticket"),{token:e.props.userInfo.authToken,progress:1,payload:n,pickupDate:e.state.pickupDate,address1:e.state.address1,address2:e.state.address2,time:e.state.time,userid:e.props.userInfo.id});case 5:s=t.sent,r=s.data,console.log(r),"success"===r.msg?(console.log("SUCCESSSSS"),e.setState({requestSent:!0})):e.setState({modalLoading:!1,modalErrorMsg:r.msg});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openModal=function(t){e.setState({showModal:!0})},e.closeModal=function(t){e.setState({showItemModal:!1})},e.changeDashboardContent=function(t){var a=0;"pending-approvals"===t||1===t?(a=1,console.log("helllllloo")):"scheduled-approvals"!==t&&2!==t||(a=2,console.log("helllllllll2222222")),e.setState({dashDisplayId:a},(function(){}))},e.state=Object(i.a)({tickets:[],showItemModal:!1,categories:{},subCategoryQuantity:{},modalLoading:!1,modalErrorMsg:"",requestSent:!1,dashDisplayId:0,pickupDate:"",address1:"",address2:"",time:"",msg:!1,showModal:!1,dashboardContent:null},"dashDisplayId",0),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark((function e(){var t,a,n,s=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("this.ran"),L(this.props.userInfo.id,this.props.userInfo.authToken),R((function(e,t){s.setState({tickets:t})})),!this.isEmpty(this.state.categories)){e.next=10;break}return e.next=6,k.a.get("".concat(window.apiHost,"/recycle"));case 6:t=e.sent,a={categories:{}},t.data.forEach((function(e){return a.categories[e.name]=e.sub_categories})),this.setState({categories:a});case 10:this.isEmpty(this.state.subCategoryQuantity)&&(console.log("setting quantities"),n=Object.assign({}),Object.keys(this.state.categories.categories).forEach((function(e,t){s.state.categories.categories[e].forEach((function(e,t){n[e.name]=0}))})),this.setState({subCategoryQuantity:n}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){console.log("0000",this.props.userInfo);var e=this.state.showItemModal?s.a.createElement(A,{date:this.state.pickupDate,address1:this.state.address1,address2:this.state.address2,time:this.state.time,items:this.state.subCategoryQuantity,closeModal:this.closeModal,submit:this.submitForm,modalLoading:this.state.modalLoading}):"",t=0===this.state.tickets.length?"":0===this.state.dashDisplayId?s.a.createElement(U,{handleInputChange:this.handleInputChange,changeDashboardContent:this.changeDashboardContent,userInfo:this.props.userInfo,getItemsFunc:this.getItems,fnAdd:this.addBtn,fnSubtract:this.subtractBtn,categories:this.state.categories,quantity:this.state.subCategoryQuantity,pickupDate:this.state.pickupDate,address1:this.state.address1,address2:this.state.address2,time:this.state.time,showItemModalEvent:this.showItemModalEvent}):1===this.state.dashDisplayId?s.a.createElement(Z,{adFn:this.acceptDeclinebtn,tickets:this.state.tickets}):s.a.createElement(z,{tickets:this.state.tickets,changeDashboardContent:this.changeDashboardContent});return console.log(t,s.a.createElement(U,{handleInputChange:this.handleInputChange,changeDashboardContent:this.changeDashboardContent,userInfo:this.props.userInfo,getItemsFunc:this.getItems,fnAdd:this.addBtn,fnSubtract:this.subtractBtn,categories:this.state.categories,quantity:this.state.subCategoryQuantity,pickupDate:this.state.pickupDate,address1:this.state.address1,address2:this.state.address2,time:this.state.time,showItemModalEvent:this.showItemModalEvent})),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("section",{className:"top"},s.a.createElement("div",{className:"container"},s.a.createElement("h5",null,"Dashboard \u2014"),s.a.createElement("div",{className:"title"},s.a.createElement("h1",null,"Hello, ",this.props.userInfo.name,"."))))),s.a.createElement("div",{className:"company-dash-cont"},s.a.createElement(W,{changeDashboardContent:this.changeDashboardContent,displayId:this.state.dashDisplayId}),s.a.createElement("div",{className:"user-ticket-cont"},t)),s.a.createElement("footer",{className:"footer"},"Copyright \xa9 2019 R-Waste All Rights Reserved."),s.a.createElement("div",{className:"container",style:this.state.showModal?{display:"block"}:{}},e))}}]),t}(n.Component);var $=function(e){return console.log("props",e),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"company-nav"},s.a.createElement("div",{className:0===e.displayId?"active":"",onClick:function(){e.changeDashboardContent()}},"All Orders"),s.a.createElement("div",{className:1===e.displayId?"active":"",onClick:function(){e.changeDashboardContent("pending-approvals")}},"Pending Quotes"),s.a.createElement("div",{className:2===e.displayId?"active":"",onClick:function(){e.changeDashboardContent("scheduled-approvals")}},"Scheduled")))},ee=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){console.log(this.props.tickets);var e=this.props.tickets.filter((function(e){return e.progress>=3}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-container"},e.map((function(e){return s.a.createElement(B,{ticket:e})}))),s.a.createElement("div",{className:"app-container"}))}}]),t}(n.Component),te=a(138),ae=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).handleInputChange=function(t){var a=t.target.id,n=Object(te.a)(e.state.modalData);if(e.state.isMakingChanges){var s=JSON.parse(n[0].customer_prefer_timeframe),r=s.time,c=s.date;r="time"===a?t.target.value:r,c="date"===a?t.target.value:c,n[0].customer_prefer_timeframe=JSON.stringify({date:c,time:r}),e.setState({modalData:n})}else"quotes"===a&&e.setState({quotes:t.target.value})},e.confirmChangesEvent=function(){e.setState({formData:e.state.modalData,isMakingChanges:!1})},e.changeTimeEvent=function(){e.setState({isMakingChanges:!0})},e.submitQuote=Object(v.a)(E.a.mark((function t(){var a,n,s,r,c,i,l,o,m,d;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.state.formData[0]),a=e.state.formData[0],n=a.progress,s=a.pickup_address,r=a.pickup_address2,c=a.ticket_id,i=JSON.parse(e.state.formData[0].customer_prefer_timeframe),l=i.time,o=i.date,m={progress:n,userId:e.props.companyUser.id,token:e.props.companyUser.authToken,time:l,date:o,address:s,address2:r,price:e.state.quotes,ticketId:c},t.next=6,k.a.put("".concat(window.apiHost,"/ticket/add-ticket-quote"),m);case 6:d=t.sent,console.log("dkfjkldjfa",d);case 8:case"end":return t.stop()}}),t)}))),e.state={modalData:[0],quotes:"",formData:[0],isMakingChanges:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){console.log(e),e.ticketData!==this.state.modalData&&this.setState({modalData:e.ticketData,formData:e.ticketData})}},{key:"render",value:function(){var e=this.state.modalData[0].customer_prefer_timeframe?JSON.parse(this.state.modalData[0].customer_prefer_timeframe):{date:"null",time:"null"},t=e.date,a=e.time,n=this.state.formData[0].customer_prefer_timeframe?JSON.parse(this.state.formData[0].customer_prefer_timeframe):{date:"null",time:"null"},r=n.date,c=n.time;console.log(this.state),console.log("ticketdata",this.state);var i=[];if(void 0!==this.state.modalData[0].order_items){console.log(this.state.modalData[0].order_items);var l=JSON.parse(this.state.modalData[0].order_items);console.log(l);var o=Object.entries(l);console.log(o),i=o.filter((function(e){return 0!==e[1]})),console.log(i)}var m=this.state.isMakingChanges?s.a.createElement("div",{className:"deliveryForm"},s.a.createElement("div",{className:"form-field"},s.a.createElement("div",null,"Address1: ",this.state.formData[0].pickup_address)),s.a.createElement("div",{className:"form-field"},s.a.createElement("div",null,"Address2: ",this.state.formData[0].pickup_address2)),s.a.createElement("h3",null,"Changing Time and Date: "),s.a.createElement("div",{className:"form-field"},s.a.createElement("label",{htmlFor:"date"},"Date: "),s.a.createElement("input",{name:"date",id:"date",value:t,onChange:this.handleInputChange})),s.a.createElement("div",{className:"form-field"},s.a.createElement("label",{htmlFor:"time"},"Time: "),s.a.createElement("input",{name:"time",id:"time",value:a,onChange:this.handleInputChange})),s.a.createElement("button",{onClick:this.confirmChangesEvent}," Confirm Changes ")):s.a.createElement("div",{className:"deliveryForm"},s.a.createElement("div",{className:"form-field"},s.a.createElement("div",null,"Address1: ",this.state.formData[0].pickup_address)),s.a.createElement("div",{className:"form-field"},s.a.createElement("div",null,"Address2: ",this.state.formData[0].pickup_address2)),s.a.createElement("div",{className:"form-field"},s.a.createElement("div",null,"Date: ",r)),s.a.createElement("div",{className:"form-field"},s.a.createElement("div",null,"time: ",c)),s.a.createElement("button",{onClick:this.changeTimeEvent}," Make Changes "),s.a.createElement("div",{className:"form-field"},s.a.createElement("label",{htmlFor:"quotes"},"Quote"),s.a.createElement("input",{name:"quotes",id:"quotes",value:this.state.quotes,onChange:this.handleInputChange})));return"loading"===this.state.modalData?s.a.createElement("div",{className:"ticket-modal"},"Loading..."):s.a.createElement("div",{className:"ticket-modal"},s.a.createElement("div",{className:"form-top-cont"},s.a.createElement("button",{className:"close-modal-btn",onClick:this.props.closeModal,id:this.state.formData[0].ticket_id},"X")),s.a.createElement("div",{className:"form-left-side"},s.a.createElement("div",{className:"table-container"},s.a.createElement("h2",null,"Name: ",this.state.formData[0].name," ")),m),s.a.createElement("div",{className:"form-right-side"},s.a.createElement("div",{className:"order-label-cont"},s.a.createElement("label",{htmlFor:"order_items"},"Order Details:")),s.a.createElement("div",{name:"order_items",id:"order_items",className:"modal-order-cont"},i.map((function(e){return s.a.createElement("div",{className:"modal-order-item"},s.a.createElement("div",null,e[0])," ",s.a.createElement("div",{className:"border-left"},e[1]))}))," ")),s.a.createElement("div",{className:"form-btn-cont"},s.a.createElement("button",{onClick:this.submitQuote},"Submit Quote")))}}]),t}(s.a.Component),ne=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).closeTicketModal=function(t){console.log("closing");var a=t.target.id;e.setState({showTicketModal:!1,ticketModalData:[]}),setTimeout((function(){console.log(a);var t=Object.assign(e.state.pendingTickets);delete t[a],e.setState({pendingTickets:t,dashboardContent:s.a.createElement(G,{tickets:e.state.tickets,setToken:e.props.token,clickFunc:e.pendingQuotesClickEvent,pending:t})})}),1e4)},e.findTicket=function(t){!function(e){Q.emit("need-ticket-info",e)}(t);var a=Object.assign(e.state.pendingTickets);a[t]=!0,e.setState({ticketModalData:s.a.createElement(ae,{companyUser:e.props.userInfo,ticketData:"loading",closeModal:e.closeTicketModal}),showTicketModal:!0,newPendingState:a,dashboardContent:s.a.createElement(G,{tickets:e.state.tickets,setToken:e.props.token,clickFunc:e.pendingQuotesClickEvent,pending:a})})},e.pendingQuotesClickEvent=function(t){console.log(t.target.id),e.findTicket(t.target.id)},e.changeDashboardContent=function(t){var a=0,n=s.a.createElement(Y,{tickets:e.state.tickets,changeDashboardContent:e.changeDashboardContent,setToken:e.props.token,clickFunc:e.pendingQuotesClickEvent,pending:e.state.pendingTickets});"pending-approvals"===t||1===t?(a=1,n=s.a.createElement(G,{tickets:e.state.tickets,setToken:e.props.token,clickFunc:e.pendingQuotesClickEvent,pending:e.state.pendingTickets})):"scheduled-approvals"!==t&&2!==t||(a=2,n=s.a.createElement(ee,{tickets:e.state.tickets,changeDashboardContent:e.changeDashboardContent})),e.setState({dashboardContent:n,dashDisplayId:a},(function(){}))},e.state={tickets:[],showTicketModal:!1,ticketModalData:s.a.createElement(ae,{ticketData:[]}),categories:{},subCategoryQuantity:{},modalLoading:!1,modalErrorMsg:"",requestSent:!1,dashboardContent:null,dashDisplayId:0,pendingTickets:{}},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t,a=this;console.log("component did mount"),e=function(e,t){a.setState({dashboardContent:a.state.dashboardContent,tickets:t})},Q.emit("sub-tickets",e),t=function(e,t){a.setState({tickets:t},(function(){a.changeDashboardContent(a.state.dashDisplayId)}))},Q.on("ticket-info",(function(e){return t(null,e)})),function(e){Q.on("ticket-data",(function(t){return e(null,t)}))}((function(e,t){console.log(t),a.setState({ticketModalData:s.a.createElement(ae,{companyUser:a.props.userInfo,ticketData:t,closeModal:a.closeTicketModal})})})),this.setState({dashboardContent:s.a.createElement(Y,{tickets:this.state.tickets,changeDashboardContent:this.changeDashboardContent,setToken:this.props.token,clickFunc:this.pendingQuotesClickEvent,pending:this.state.pendingTickets})})}},{key:"render",value:function(){var e=this.state.showTicketModal?this.state.ticketModalData:"";return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("h5",null,"Dashboard \u2014"),s.a.createElement("div",{className:"title"},s.a.createElement("h1",null,"Hello, ",this.props.userInfo.name,". "))),s.a.createElement("div",{className:"company-dash-cont"},s.a.createElement($,{displayId:this.state.dashDisplayId,changeDashboardContent:this.changeDashboardContent}),s.a.createElement("div",{className:"comp-ticket-cont"},this.state.dashboardContent)),e,s.a.createElement("footer",{className:"footer"},"Copyright \xa9 2019 R-Waste All Rights Reserved."))}}]),t}(n.Component);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e)))._setToken=function(e,t,n,s,r){a.setState({authToken:e,name:t,email:n,id:s,isCompany:r})},a._logout=function(){window.sessionStorage.removeItem("state"),a.setState({authToken:null})},a.state={authToken:null,name:null,email:null,id:null,isCompany:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("initial state",this.state);var e=JSON.parse(window.sessionStorage.getItem("state"));console.log("=====",e),e?this.setState({authToken:e.token,name:e.name,id:e.id,email:e.email,isCompany:e.is_company}):console.log("this is empty")}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(h.a,{path:"/",render:function(t){return s.a.createElement(F,Object.assign({},t,{userInfo:re({},e.state),setToken:e._setToken,logout:e._logout}))}}),s.a.createElement(h.a,{exact:!0,path:"/",component:w}),this.state.authToken&&!0===this.state.isCompany?s.a.createElement(h.a,{path:"/company/dashboard",render:function(t){return s.a.createElement(ne,Object.assign({},t,{userInfo:re({},e.state)}))}}):this.state.authToken?s.a.createElement(h.a,{path:"/userdashboard",render:function(t){return s.a.createElement(K,Object.assign({},t,{userInfo:re({},e.state)}))}}):null))}}]),t}(s.a.Component);c.a.render(s.a.createElement(ce,null),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.9181ff2a.chunk.js.map